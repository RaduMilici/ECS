var app=angular.module("App",["ui.router"]);app.config(["$stateProvider","$urlRouterProvider",function(t,e){var n="/partials",r=n+"/templates";e.otherwise("/main"),t.state("main",{url:"/main",templateUrl:r+"/main.html",controller:"mainCtrl"})}]),angular.module("App").factory("Project",["Animate","Loader",function(t,e){return function(){this.loader=new e,this.animate=new t({project:this}),this.animate.Start()}}]),angular.module("App").factory("comp1",[function(){return function(){}}]),angular.module("App").controller("mainCtrl",["$scope","Project",function(t,e){new e}]),angular.module("App").factory("Prefab",[function(){return function(){THREE.Object3D.call(this),this.name="",this.id="",this.layer="",this.models=[],this.components=[],this.uid=_.uniqueId(),this.Start=function(){},this.Stop=function(){},this.Destroy=function(){},this.Update=function(){}}}]),angular.module("App").factory("Animate",["Renderer",function(t){return function(e){function n(){return new THREE.PerspectiveCamera(this.camFov,this.renderer.width/this.renderer.height,this.camNear,this.camFar)}e=e||{},this.project=e.project,this.camFov=e.camFov||45,this.camNear=e.camNear||1,this.camFar=e.camFar||1e3,this.renderer=new t({project:this.project}),this.camera=n.bind(this)(),this.controls=void 0,this.Start=function(){this.renderer.Render()}}}]),angular.module("App").factory("Loader",["$q","paths",function(t,e){return function(n){n=n||{},this.scene=new THREE.Scene;var r=new THREE.JSONLoader;this.Load=function(n){var i=t.defer();return r.load(e.models+"/"+n+".js",function(t,e){var n=new THREE.MultiMaterial(e);i.resolve(new THREE.Mesh(t,n))}),i.promise},this.Add=function(t){this.scene.add(t)},this.Remove=function(t){this.scene.remove(t)}}}]),angular.module("App").factory("Renderer",[function(){return function(t){function e(t){try{var e=$("#"+t);if(0===e.length)throw"could not find container with ID "+t;return e}catch(n){console.error(n)}}function n(t,e){var n=new THREE.WebGLRenderer({antialias:!0});return n.setSize(t,e),$(this.container).append(n.domElement),n}t=t||{},this.project=t.project,this.container=e(t.containerID||"WebGL"),this.width=$(this.container).outerWidth(),this.height=$(this.container).outerHeight(),this.renderer=n.bind(this)(this.width,this.height);var r=void 0;this.Render=function(){this.renderer.render(this.project.loader.scene,this.project.animate.camera),r=requestAnimationFrame(this.Render.bind(this))}}}]),angular.module("App").factory("paths",[function(){return new function(){this.assets="./assets",this.models=this.assets+"/models"}}]);